内存泄露是指：内存泄漏也称作"存储渗漏"，用动态存储分配函数动态开辟的空间，在使用完毕后未释放，结果导致一直占据该内存单元，直到程序结束。(其实说白了就是该内存空间使用完毕之后未回收)即所谓内存泄漏。

也就是说内存刚开始不会出现什么问题，但是过一段时间就会频繁的进行GC，应用程序不会有什么响应，造成服务假死的情况

## 1. 使用jstat 检查FGC状态
```bash
# 查看java进程获得进程号
jcmd 

# jstat -gc pid 间隔时间 显示次数来查看GC情况
jstat -gc 进程号 3000 30
```
示例
```bash

```

## 2. 查看战胜CPU的线程
```bash
# top命令查询进度
top

# 查看进程消耗CPU比较高的线程
top -H -p 97598

# 接下来将线程ID转换为对应的16进制进行排查
printf "%x" 97600
jstack 97598|grep 17d40 -A20
```

## 3. 查看内存对象
可以通过jmap导出dump转储文件，但是不推荐使用，导出的时候服务将会不响应请求，如果导出的文件很大，则可能造成服务长时间假死，可以使用jmap -histo pid来查看那些对象占用的内存大
```bash
# 列出来存活对象占用的内存大小，并且只显示前20行
jmap -histo:live 97598|head -20
```

https://blog.csdn.net/weixin_49435563/article/details/135411924

