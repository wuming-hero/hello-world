
# 设计模式

![图片2](../../src/main/resources/static/image/design/design_pattern.png)

## 高内聚、松耦合
### 那到底什么是“高内聚”呢？
所谓高内聚，就是指相近的功能应该放到同一个类中，不相近的功能不要放到同一个类中。相近的功能往往会被同时修改，放到同一个类中，修改会比较集中，代码容易维护。实际上，我们前面讲过的单一职责原则是实现代码高内聚非常有效的设计原则。
### 我们再来看一下，什么是“松耦合”？
所谓松耦合是说，在代码中，类与类之间的依赖关系简单清晰。即使两个类有依赖关系，一个类的代码改动不会或者很少导致依赖类的代码改动。实际上，我们前面讲的依赖注入、接口隔离、基于接口而非实现编程，以及今天讲的迪米特法则，都是为了实现代码的松耦合。

## 迪米特法则 Law of Demeter，缩写是LOD
每个模块（unit）只应该了解那些与它关系密切的模块（units: only units “closely” related to the current unit）的有限知识（knowledge）。
或者说，每个模块只和自己的朋友“说话”（talk），不和陌生人“说话”（talk）。

结合我自己的理解和经验，对刚刚的定义重新描述一下。注意，为了统一讲解，我把定义描述中的“模块”替换成了“类”：
不该有直接依赖关系的类之间，不要有依赖；有依赖关系的类之间，尽量只依赖必要的接口

面向对象设计原则
设计模式需要遵从以下几个原则：
1. 单一职责原则：每个类都应该有一个单一的职责，只负责一项任务。
2. 开放封闭原则：系统应该对扩展开放，对修改关闭，也就是说，应该通过扩展已有类或添加新类的方式来实现功能的更新，而不是修改既有类的代码。
3. 里氏替换原则：所有引用基类的地方必须能够透明地使用其子类对象，也就是说，子类对象可以替换父类对象出现在任何地方，并且不会影响程序的正确性。
4. 依赖倒置原则：高层模块不应该依赖底层模块，它们应该依赖于抽象，也就是说，应该通过接口或抽象类来定义模块之间的依赖关系，而不是通过具体的实现类来定义。
5. 接口隔离原则：客户端不应该依赖它不需要的接口，也就是说，应该将接口细分，使得每个类只依赖于它需要的接口。
6. 迪米特法则：一个对象应该对其他对象有尽可能少的了解，也就是说，对象之间的耦合应该尽量少，只关注自己需要的对象。
   遵循这些原则可以使得代码更加可读、可维护和可扩展，同时也能够提高代码的质量和重用性。


设计模式按照使用场景可以分为三大类：创建型模式（Creational Patterns）、结构型模式（Structural Patterns）、行为型模式（Behavioral Patterns）。
* 1.创建型模式（Creational Patterns）
  对对象的实例化过程进行抽象，这使得一个系统可以不用关心这些对象是如何创建，组合，呈现的，对于类创建模式来说通过使用继承改变实例化的类，对于对象创建模式来说通过使用代理来实例化所需要的对象。

* 2.结构型模式（Structural Patterns）
  通过对多个类和对象进行组合得到复杂结构的类，一般使用继承继承或者成员变量引用形式来实现。

* 3.行为型模式（Behavioral Patterns）
  行为模式不仅表达了对象和类，还表达了他们之间的交互，涉及到了对象和算法的分配。


美团设计模式 https://tech.meituan.com/2022/03/10/interesting-talk-about-design-patterns.html