#### 1.菜鸟裹裹网购退货项目

##### 项目内容
1. 作为项目PM和服务端研发，首先是基于产品需求确认技术选型及详细技术方案，OCR识别这块对比过蚂蚁OCR、阿里云OCR、菜鸟内部混合云OCR、开源自己搭建等方案，最终选择了菜鸟内部混合云OCR
2. 本次需求首次在寄件交易链路引入折扣券，在处理好服务端折扣券价格预估费用计算前提下，还需要和前端同学确认所有涉及到优惠券展示的地方折扣券展示协议;需要和下游支付域联调折扣券核销
3. 使用OCR识别解析用户上传的图片，使用正则表达式提取关键信息判断电商平台，基于不同的电商平台使用相应的提取规则提取收件人信息，满足其他电商平台用户使用菜鸟裹裹快速退货寄件需求，支持但不限以下主流电商平台：拼多多、抖音、快手、小红书、京东、微信电商等。

##### 项目成果
该项目仅在微信端上线后就取得了日均4000+单量增长，并被作为代表项目之一在公司层面分享。

##### 项目重点
1. 重点1：前期OCR方案验证及选型
   * OCR功能对比/demo测试/价格等因素，最终选择了菜鸟内部混合云OCR
2. 重点2：电商平台识别及收件地址提取
   * 前期为了尽快上线，每个电商平台适配了常见的退货页图片，并且将识别提取规则设计为动态可配置的，方便后续扩展。
   * 上线后基于对电商平台识别、收件地址提取的埋点日志分析，完善识别和提取规则，最后做到电商平台识别成功率70%，收件地址提取成功率95%
3. 重点3：菜鸟裹裹平台引入折扣券
   营销中心是支持折扣券的，但菜鸟APP从未使用过，所以所有涉及到优惠券展示、使用的地方都需要进行适配改造。

##### 难点及解决方案
1. 难点1：电商平台识别
电商平台退货退款详情页，其实大家长的差不多（因为后面电商平台会借鉴淘宝平台），如何识别呢？
一般是根据页面的title 和 操作按钮的文案来识别，但由于用户终端的多样，用户提交上来的图片可能没有顶部title 或者没有下边的操作按钮再或者和淘宝的退款详情页一样。

解决方案：
1. 额外基于页面中部的关键词进行过滤
2. 对于截图缺少顶部或询问操作的页面，就按照无法识别平台处理，在后续提取收件地址规则中增加相应的提取规则。

2. 难点2：电商平台收件地址提取
收件地址提取是要在一段文字中提取出收件人、收件人手机号、收件地址。提取的重点是找到各个信息的前面或后面的分隔位置或能识别的关键词，然后通过正则表达式分组提取。
对于姓名+手机号+收件地址，且姓名和它前面的文案混合在一起和收件地址和他后面的文案混合在一起的案例，只能通过手机号往前匹配N个字符做为姓名，手机号往后匹配M个字符做为收件地址，
提取后返回给前端然后填充到收件地址中，再由用户手动修正下。



#### 2.菜鸟裹裹特惠当日取项目

##### 项目内容
1. 作为项目PM和服务端研发，由于是首次将B端阶梯报价应用到C端，梳理寄件交易全链路节点，评估涉及价格计算相关节点的改动成本及制定详细解决方案
2. 在C端价格展示上，产品设计上有很多定制需求，对于改动成本较大的需求，拉着前端同学和产品一起探讨必要性、制定其他可行性替代方案。
3. 积极协调上下游资源推进项目进度，在线上验单过程中发现了下游协同方域内有个标有问题，为了不影响项目进度，作为PM评估风险后，制定了在本域标消费的地方进行兼容处理的方案，拉会同步老板及相关负责同学后，周末紧急发版解决。

##### 项目成果
该项目取得了单量增长761%、营收额增长452%、净利润增长215%，远超业务预期，获得公司级的小胜即庆荣誉激励。

##### 项目重点及
1. 重点1：寄件页价格预估表达透出阶梯价
   * 由于是首次将B端阶梯报价应用到C端，梳理寄件交易全链路节点，评估涉及价格计算相关节点的改动成本及制定详细解决方案。
2. 重点2：下单成功页显示下单失败的信息
   * 单批最大添加30个收件人，用户提交下单后，服务端是使用多线程循环下单，最终在下单成功页透出失败的收件人信息列表。失败的寄件信息通过redis缓存24小时。
3. 重点3：下游履行域物流标缺失造成权益无法核销问题修复
   * 物理寄使用的服务商品是商家域的，商家域寄件流程是下单即取号，此时就有了运单号不需要回传运单号，由于履行域没有回传这步操作，造成特惠寄的订单少了一个物流标。
   * 后续会监听订单分拨出库节点的消息，然后对订单锁定的权益进行核销。针对这个问题，履行系统是有个白名单配置，将特惠寄的商品添加到白名单可以解决问题，预发验证也没有问题，
   * 但在线上验单环节，又出现标丢失，当时找履行同学排查，他们定位说是线上并发更新失败，生成打标失败，然后周六紧急发版解决。但验证后问题还存在，履行同学排查的结论是还有其他并发更新问题。
   * 并且短时间没有好的解决方案。之前承诺业务周一开灰，做为项目PM，然后去梳理这个标的释意，以及当前问题如何解决？
   * 最终通过标释意梳理和消费标的地方业务逻辑的梳理，决定在标消费的地方进行兼容处理，此时需要拉上域内负责这块业务的同学同步和老板同步详细方案和风险点，然后周末发彼解决此问题。

##### 难点及解决方案
下游履行域物流标缺失造成权益无法核销问题修复
* 物理寄使用的服务商品是商家域的，商家域寄件流程是下单即取号，此时就有了运单号不需要回传运单号，由于履行域没有回传这步操作，造成特惠寄的订单少了一个物流标。
* 后续会监听订单分拨出库节点的消息，然后对订单锁定的权益进行核销。针对这个问题，履行系统是有个白名单配置，将特惠寄的商品添加到白名单可以解决问题，预发验证也没有问题，
* 但在线上验单环节，又出现标丢失，当时找履行同学排查，他们定位说是线上并发更新失败，生成打标失败，然后周六紧急发版解决。但验证后问题还存在，履行同学排查的结论是还有其他并发更新问题。
* 并且短时间没有好的解决方案。之前承诺业务周一开灰，做为项目PM，然后去梳理这个标的释意，以及当前问题如何解决？
* 最终通过标释意梳理和消费标的地方业务逻辑的梳理，决定在标消费的地方进行兼容处理，此时需要拉上域内负责这块业务的同学同步和老板同步详细方案和风险点，然后周末发彼解决此问题。


#### 3.支付宝我的快递接入及升级

##### 项目内容
1. 作为项目PM和服务端研发，菜鸟裹裹作为一个寄件渠道以SPI的方式接入支付宝我的快递，在前期技术选型上从业务角度思考，对比有用户信息方案和菜鸟OpenAPI的方案的优缺点，最终选择有用户信息的方案，方便后续升级接入营销信息。
2. 后面我主动找业务同学聊营销信息透出的方案，并基于业务提供的营销圈人ID实现基于支付宝uid透出用户帐户优惠券、寄件权益、营销活动等信息，引导用户优先选择裹裹寄件。

##### 项目成果
主动推进的技改升级需求带来31%单量增长，获得业务方和公司层面的认可。

##### 项目重点
1. 从业务角度思考并推进营销方案落地，提升单量31%
做为技术，从业务角度思考并推进解决方案落地，通过分析菜鸟裹裹在当前寄件渠道的优势，判断用户已有券、权益、命中相应优惠券直塞的营销圈人，
透出相应的营销标签， 吸引用户选择菜鸟裹裹寄件跳转到菜鸟寄件小程序下单，支付宝我的快递渠道单量稳定在1.2w单/天，增长31%。



#### 4.猫超88vip安心退

##### 项目内容
1. 作为项目PM和服务端研发，先后支持了项目一期、二期开发，在项目期间使用新的应用监听淘宝订单状态变更的metaQ消息，将与淘宝电商相关的权益发放、取消、核销等收口到新应用中。
   迁到新应用时，首先通过metaQ SQL语句订阅方式过滤符合条件的订单，降低消息量，减少系统压力;
2. 基于java继承机制将通用业务代码和流程抽取到父抽象类，再通过策略模式根据不同状态调用相应的权益处理Handler。
3. 基于sunfire平台，对权益发放、核销、取消等核心链路进行监控告警。

##### 项目成果
1. 项目上线后，88vip猫超退货体验得到很大提升，猫超88vip渗透率提升到89%，超出业务预期，项目获得菜鸟集团【红草莓】奖。
2. 基于此项目，也沉淀一套权益发放、核销、取消的链路，为后续其他权益对接垫定了基础、提高了开发效率。

##### 项目重点
1. 项目中梳理了猫超淘系正向交易、逆向业务身份的识别，为以后猫超逆向拆分业务身份奠定了基础。

2. 电商平台权益发放、核销、取消的链路，为后续其他权益对接垫定了基础、提高了开发效率。

##### 难点及解决方案


#### 细叶开放平台

##### 项目内容

##### 重点

##### 难点及解决方案


## 主动推进优化项目

### 订单状态同步
订单同步第三方失败重投优化（包括但不限于全网运费险、蚂蚁订单中心），对于重投仍失败的错误码加白处理，降低系统压力和成本

变更已于12.21号上线，变更后 tdtradebusiness监听TRADE_PLATFORM_MESSAGE消息成功率从88%左右提高到96%，错误qps从之前平均500+降低到300+

### 支付宝我的快递