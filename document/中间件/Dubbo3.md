# Dubbo 3.0 与 Dubbo 2.0 的区别

Apache Dubbo 是一个高性能的 Java RPC 框架，它提供了透明化的远程服务调用方案以及SOA（面向服务的架构）服务治理方案。随着技术的不断发展，Dubbo 也从 2.0 版本进化到了 3.0 版本，引入了许多新的特性和改进。以下是 Dubbo 3.0 和 Dubbo 2.0 之间的一些主要区别：

## 一、核心特性与架构升级

### 1.1 三中心架构：

* Dubbo 3.0 引入了注册中心、配置中心和元数据中心的“三中心”架构。其中，注册中心负责服务地址的注册与发现； 配置中心用于集中管理应用的配置信息；元数据中心则存储了服务的接口定义、方法签名等元数据。这种架构使得 Dubbo 在服务治理和运维方面更加灵活和高效。
* Dubbo 2.0 主要依赖于注册中心进行服务的管理和治理，没有像 3.0 那样明确区分配置中心和元数据中心。

### 1.2 支持多语言：

* Dubbo 3.0 原生支持多语言客户端，如 Go、Python、Node.js 等，这使得 Dubbo 可以更好地适应微服务架构下的多语言环境。
* Dubbo 2.0 主要以 Java 为核心，对其他语言的支持相对有限。

## 二、性能优化与扩展性

### 2.1 异步化改造：

* Dubbo 3.0 对通信协议进行了全面异步化改造，提高了系统的并发处理能力和响应速度。同时，它也支持更灵活的线程模型，可以根据业务场景进行定制。
* Dubbo 2.0 的通信协议主要是同步的，虽然也提供了一些异步调用的方式，但整体性能和灵活性不如 3.0。

### 2.2 插件化设计：

* Dubbo 3.0 采用了插件化设计，可以方便地集成各种中间件和服务治理能力，如限流、熔断、降级等。这种设计使得 Dubbo 更加开放和可扩展。
* Dubbo 2.0 的扩展性相对较弱，需要修改代码或配置文件才能添加新功能。

## 三、服务治理与运维

### 3.1 流量治理：

* Dubbo 3.0 提供了丰富的流量治理功能，包括灰度发布、蓝绿部署、A/B 测试等，可以帮助开发者更好地控制和管理服务的流量。
* Dubbo 2.0 的流量治理功能相对较少，主要通过负载均衡策略来分配请求。

### 3.2 可观测性：

* Dubbo 3.0 加强了对服务可观测性的支持，包括日志记录、监控报警、链路追踪等。这些功能有助于开发者及时发现和解决服务中的问题。
* Dubbo 2.0 在可观测性方面的支持相对较弱，需要依赖其他工具来实现这些功能。

## 四、总结
总结一下3.0关键几点：
* 借助SPI实现相关探针，使得生命周期可以被容器感知，即生命周期与容器对齐。
* 接入 Kubernetes Service API，使得注册中心相关功能下沉，而不用额外利用ZK等第三方注册中心。
* 将接口级别的服务发现改成应用级别，解决了大规模微服务架构体系下，元数据膨胀的瓶颈，并对其市面常见的发现级别，便于异构的实现。
* 升级通信协议为Triple，选择了 HTTP2 + Protocol Buffer 的形式，丰富了请求模型。

综上所述，Dubbo 3.0 在核心特性、性能优化、扩展性以及服务治理与运维等方面都相比 Dubbo 2.0 有了显著的提升和改进。
这些新特性和改进使得 Dubbo 3.0 能够更好地适应微服务架构下的复杂业务需求和技术挑战。
因此，对于正在使用 Dubbo 或计划使用 Dubbo 进行微服务开发的团队来说，升级到 Dubbo 3.0 将是一个明智的选择。



https://cloud.tencent.com/developer/article/1853138